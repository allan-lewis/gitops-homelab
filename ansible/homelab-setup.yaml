---
- name: Get the local host ready for DevOps.
  hosts: localhost
  become: no
  gather_facts: yes
  
  roles:
    - known_hosts

- name: Setup homelab hosts.
  hosts: homelab_ansible_hosts
  become: yes
  gather_facts: yes
  
  roles:
    - tz
    - dependencies
    - user
    - ssh
    - apt
    - reboot

- name: Setup DevOps hosts.
  hosts: homelab_devops_hosts
  become: yes
  gather_facts: yes

  roles:
    - devops_tools

- name: Setup DevOps environment.
  hosts: homelab_devops_hosts
  become: no
  gather_facts: yes   

  roles: 
    - devops_setup

- name: Setup OpenVPN hosts.
  hosts: homelab_openvpn_hosts
  become: yes
  gather_facts: yes

  roles:
    - openvpn
