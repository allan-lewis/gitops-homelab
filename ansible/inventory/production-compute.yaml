all:
  hosts:
    ## NEW HOSTS
    ## KUBERNETES
    roland:
      ansible_host: 192.168.86.230
      gatus_slug: "(K8s Control Plane)" 
    eddie:
      ansible_host: 192.168.86.234
      gatus_slug: "(K8s Worker)"
    jake:
      ansible_host: 192.168.86.235
      gatus_slug: "(K8s Worker)"
    susannah:
      ansible_host: 192.168.86.236
      gatus_slug: "(K8s Worker*)"
    ## OFF PREMISES
    gilead:
      ansible_host: 100.95.108.6
      gatus_slug: "(Remote Backup NAS)"
    ## OLD HOSTS
    antares:
      ansible_host: 192.168.86.167
      gatus_slug: "(Retro Gaming)"
    arcturus:
      ansible_host: 192.168.86.124
      gatus_slug: "(Home Assistant)"  
    capella:
      ansible_host: 100.95.108.6
      gatus_slug: "(Remote Backup NAS)"
    castor:
      ansible_host: 192.168.86.125
      gatus_slug: "(Staging Dev Ops)"
    deneb:
      ansible_host: 192.168.86.166
      gatus_slug: "(Daily Driver)"
    mimosa:
      ansible_host: 192.168.86.163
      gatus_slug: "(Gaming Rig)" 
    peacock:
      ansible_host: 192.168.86.162
      gatus_slug: "(Daily Driver)"
    polaris:
      ansible_host: 192.168.86.101
      gatus_slug: "(Hypervisor)"
    pollux:
      ansible_host: 192.168.86.135
      gatus_slug: "(Production Dev Ops)"
    procyon:
      ansible_host: 192.168.86.106
      gatus_slug: "(Primary NAS)"
    regulus:
      ansible_host: 192.168.86.116
      gatus_slug: "(Media Server)"
      homelab_backup_healthcheck: "99213ad8-529f-4bd2-a244-c7754a4e6d2f"
      homelab_backup_minute: 35
      homelab_backup_hour: "*"
      homelab_mounts:
        - src: "192.168.86.106:/mnt/pool1/immich"
          path: "/mnt/immich"
          options: "rw"
        - src: "192.168.86.106:/mnt/pool1/media-library"
          path: "/mnt/media-library"
          options: "ro"
      homelab_remote_volumes:
        - src: "/opt/allans-home-lab/immich/"
          dest: "/mnt/pool1/docker-volumes/immich/"
          host: procyon
          user: allan
        - src: "/opt/allans-home-lab/plex/"
          dest: "/mnt/pool1/docker-volumes/plex/"
          host: procyon
          user: allan
        - src: "/opt/allans-home-lab/jellyfin/"
          dest: "/mnt/pool1/docker-volumes/jellyfin/"
          host: procyon
          user: allan
    sirius:
      ansible_host: 192.168.86.105
      gatus_slug: "(Hypervisor)"

  children:
    homelab_ansible_hosts:
      children:
        homelab_docker_hosts:
          hosts:
          children:
            homelab_docker_cloudflare_hosts:
              hosts:
                flagg:
            homelab_docker_gatus_hosts:
              hosts:
                flagg:
            homelab_docker_immich2_hosts:
              hosts:
                misery:
            homelab_docker_media_acquisition_hosts:
              hosts:
                mordred:
            homelab_docker_pihole_hosts:
              hosts:
                flagg:
            homelab_docker_traefik_hosts:
              hosts:
                flagg:
        homelab_jellyfin_hosts:
          hosts:
            regulus:
        homelab_node_exporter_hosts:
          hosts:
            cujo:
        homelab_openvpn_hosts:
          hosts:
            cujo:
          vars:
            homelab_openvpn_config: "/etc/openvpn/config.ovpn"
            homelab_openvpn_config_contents: "{{ lookup('env', 'OPEN_VPN_CONFIG') }}"
            homelab_openvpn_network: "192.168.86.0/24"
            homelab_openvpn_username: "{{ lookup('env', 'OPEN_VPN_USERNAME') }}"
            homelab_openvpn_password: "{{ lookup('env', 'OPEN_VPN_PASSWORD') }}"
        homelab_plex_hosts:
          hosts:
            regulus:
        homelab_tailscale_hosts:
          hosts:
            flagg:
          vars:
            lsb_release_package: lsb-release
    homelab_talos_controlplane_nodes:
      hosts:
        roland:
    homelab_talos_worker_nodes:
      hosts:
        eddie:
        jake:
        susannah:

  vars:
    ansible_python_interpreter: "/usr/bin/python3.12"
    ansible_user: lab
    homelab_k8s_terraform_dir: "/home/lab/gitops-homelab/terraform/environments/production-k8s"
    tailscale_authkey: "{{ lookup('env', 'TAILSCALE_AUTH_KEY') }}"
    homelab_s3_buckets:
      - allans-home-lab-longhorn
      - allans-homelab-terraform-state-bucket
      - gitops-homelab-longhorn
      - gitops-homelab-longhorn-attic
      - gitops-homelab-longhorn-staging
      - gitops-homelab-terraform
    homelab_docker_traefik_services:
      - name: "derry"
        host: derry.hosts.allanshomelab.com
        url: "http://{{hostvars['derry'].ansible_host}}:8000"
      - name: "gilead"
        host: gilead.hosts.allanshomelab.com
        url: "http://{{hostvars['gilead'].ansible_host}}:80"
      - name: "procyon"
        host: procyon.hosts.allanshomelab.com
        url: "http://{{hostvars['procyon'].ansible_host}}:80"
      - name: "whoami"
        host: whoami.docker.allanshomelab.com
        url: "http://{{hostvars['flagg'].ansible_host}}:8180"
      - name: "traefik-dashboard"
        host: traefik.docker.allanshomelab.com
        url: "http://{{ hostvars['flagg'].ansible_host}}:8088"
      - name: pihole
        host: dns.docker.allanshomelab.com
        url: "http://{{ hostvars['flagg'].ansible_host }}:30080"
      - name: gatus
        host: gatus.docker.allanshomelab.com
        url: "http://{{ hostvars['flagg'].ansible_host }}:8080"
      - name: jellyfin
        host: jellyfin.docker.allanshomelab.com
        url: "http://{{ hostvars['regulus'].ansible_host }}:8096"
      - name: plex
        host: plex.docker.allanshomelab.com
        url: "http://{{ hostvars['regulus'].ansible_host }}:32400"
      - name: capella
        host: capella.hosts.allanshomelab.com
        url: "http://{{ hostvars['capella'].ansible_host }}"
      - name: jackett
        host: jackett.media.allanshomelab.com
        url: "http://{{ hostvars['mordred'].ansible_host }}:9117"
      - name: transmission
        host: transmission.media.allanshomelab.com
        url: "http://{{ hostvars['mordred'].ansible_host }}:9091"
      - name: sirius
        host: sirius.hosts.allanshomelab.com
        url: "https://{{ hostvars['sirius'].ansible_host }}:8006"
        scheme: https
      - name: polaris
        host: polaris.hosts.allanshomelab.com
        url: "https://{{ hostvars['polaris'].ansible_host }}:8006"
        scheme: https
      - name: immich
        host: photos.allanandvaia.com
        url: "http://{{ hostvars['regulus'].ansible_host }}:2283"
        scheme: http
      - name: homeassistant
        host: home.allanandvaia.com
        url: "http://{{ hostvars['arcturus'].ansible_host }}:8123"
        scheme: http
      - name: kvm1
        host: one.kvm.allanshomelab.com
        url: "http://192.168.86.247"
        scheme: http
      - name: kvm2
        host: two.kvm.allanshomelab.com
        url: "http://192.168.86.248"
        scheme: http
    homelab_pihole_a_records:
      - name: "docker.allanshomelab.com"
        address: "192.168.86.205" 
      - name: "hosts.allanshomelab.com"
        address: "192.168.86.205" 
      - name: "media.allanshomelab.com"
        address: "192.168.86.205" 
      - name: "k8s.allanshomelab.com"
        address: "192.168.86.187" 
      - name: "kvm.allanshomelab.com"
        address: "192.168.86.205"
      - name: "postgres.k8s.allanshomelab.com"
        address: "192.168.86.196"     
    homelab_pihole_cname_records:
      - alias: "gatus.docker.allanshomelab.com"
        target: "docker.allanshomelab.com"
      - alias: "jellyfin.docker.allanshomelab.com"
        target: "docker.allanshomelab.com"
      - alias: "dns.docker.allanshomelab.com"
        target: "docker.allanshomelab.com"
      - alias: "plex.docker.allanshomelab.com"
        target: "docker.allanshomelab.com"
      - alias: "capella.hosts.allanshomelab.com"
        target: "hosts.allanshomelab.com"
      - alias: "derry.hosts.allanshomelab.com"
        target: "hosts.allanshomelab.com"
      - alias: "gilead.hosts.allanshomelab.com"
        target: "hosts.allanshomelab.com"
      - alias: "polaris.hosts.allanshomelab.com"
        target: "hosts.allanshomelab.com"
      - alias: "procyon.hosts.allanshomelab.com"
        target: "hosts.allanshomelab.com"
      - alias: "sirius.hosts.allanshomelab.com"
        target: "hosts.allanshomelab.com"
      - alias: "traefik.docker.allanshomelab.com"
        target: "docker.allanshomelab.com"
      - alias: "whoami.docker.allanshomelab.com"
        target: "docker.allanshomelab.com"
      - alias: "alerts.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "homepage.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "tools.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "lidarr.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "longhorn.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "dns.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "traefik.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "portainer.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "prometheus.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "radarr.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "rancher.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "sonarr.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "tautulli.k8s.allanshomelab.com"
        target: "k8s.allanshomelab.com"
      - alias: "one.kvm.allanshomelab.com"
        target: "kvm.allanshomelab.com"
      - alias: "two.kvm.allanshomelab.com"
        target: "kvm.allanshomelab.com"
      - alias: "jackett.media.allanshomelab.com"
        target: "media.allanshomelab.com"
      - alias: "transmission.media.allanshomelab.com"
        target: "media.allanshomelab.com"
