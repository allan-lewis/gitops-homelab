all:
  hosts:
    alcor:
      ansible_host: 192.168.86.123
      gatus_slug: "(OpenVPN Server)"
    altair:
      ansible_host: 192.168.86.146
      gatus_slug: "(Bare Metal K8s Node)"
    antares:
      ansible_host: 192.168.86.149
      gatus_slug: "(Bare Metal K8s Node)"    
    arcturus:
      ansible_host: 192.168.86.124
      gatus_slug: "(Home Assistant)" 
    bellatrix:
      ansible_host: 192.168.86.160
      gatus_slug: "(Windows 11)" 
    canopus:
      ansible_host: 192.168.86.102
      gatus_slug: "(Local Backup NAS)"
    capella:
      ansible_host: 192.168.86.145
      gatus_slug: "(Bare Metal K8s Node)"
    castor:
      ansible_host: 192.168.86.125
      gatus_slug: "(Staging Dev Ops)"
    deneb:
      ansible_host: 192.168.86.147
      gatus_slug: "(Bare Metal K8s Node)"
    mimosa:
      ansible_host: 192.168.86.161
      gatus_slug: "(Windows 11)" 
    mintaka:
      ansible_host: 192.168.86.130
      gatus_slug: "(Legacy Dev Ops)"
    mizar:
      ansible_host: 192.168.86.112
      gatus_slug: "(Bare Metal Monitoring/Networking)"
      homelab_backup_healthcheck: "64ffa8c0-3251-4048-87e6-f8ce0205c3ff"
      homelab_backup_minute: 15
      homelab_backup_hour: "*"
      homelab_remote_volumes:
        - src: "/opt/allans-home-lab/gatus/"
          dest: "/mnt/pool1/docker-volumes/gatus/"
          host: rigel
          user: allan  
    polaris:
      ansible_host: 192.168.86.101
      gatus_slug: "(Hypervisor)"
    pollux:
      ansible_host: 192.168.86.135
      gatus_slug: "(Production Dev Ops)"
    procyon:
      ansible_host: 100.85.197.89
      gatus_slug: "(Remote Backup NAS)"
    regulus:
      ansible_host: 192.168.86.116
      gatus_slug: "(Media Server)"
      immich_version: "v1.131.3"
      homelab_backup_healthcheck: "99213ad8-529f-4bd2-a244-c7754a4e6d2f"
      homelab_backup_minute: 35
      homelab_backup_hour: "*"
      homelab_mounts:
        - src: "192.168.86.104:/mnt/pool1/immich"
          path: "/mnt/immich"
          options: "rw"
        - src: "192.168.86.104:/mnt/pool1/media-library"
          path: "/mnt/media-library"
          options: "ro"
      homelab_remote_volumes:
        - src: "/opt/allans-home-lab/immich/"
          dest: "/mnt/pool1/docker-volumes/immich/"
          host: rigel
          user: allan
        - src: "/opt/allans-home-lab/plex/"
          dest: "/mnt/pool1/docker-volumes/plex/"
          host: rigel
          user: allan
    rigel:
      ansible_host: 192.168.86.104
      gatus_slug: "(Primary NAS)"
    vega:
      ansible_host: 192.168.86.148
      gatus_slug: "(Bare Metal K8s Node)"

  children:
    homelab_ansible_hosts:
      children:
        homelab_backup_hosts:
          hosts:
            mizar:
            regulus:
        homelab_docker_hosts:
          hosts:
            mizar:
            regulus:
        homelab_gatus_hosts:
          hosts:
            mizar:
        homelab_immich_hosts:
          hosts:
            regulus:
        homelab_node_exporter_hosts:
          hosts:
            alcor:
        homelab_openvpn_hosts:
          hosts:
            alcor:
          vars:
            homelab_openvpn_config: "/etc/openvpn/config.ovpn"
            homelab_openvpn_config_contents: "{{ lookup('env', 'OPEN_VPN_CONFIG') }}"
            homelab_openvpn_network: "192.168.86.0/24"
            homelab_openvpn_username: "{{ lookup('env', 'OPEN_VPN_USERNAME') }}"
            homelab_openvpn_password: "{{ lookup('env', 'OPEN_VPN_PASSWORD') }}"
        homelab_plex_hosts:
          hosts:
            regulus:
        homelab_tailscale_hosts:
          hosts:
            mizar:
        homelab_traefik_hosts:
          hosts:
            mizar:

  vars:
    ansible_python_interpreter: "/usr/bin/python3.12"
    ansible_user: lab
    homelab_telegram_bot_token: "{{ lookup('env', 'TELEGRAM_BOT_TOKEN') }}"
    homelab_telegram_id: "{{ lookup('env', 'TELEGRAM_ID') }}"
    tailscale_authkey: "{{ lookup('env', 'TAILSCALE_AUTH_KEY') }}"
    homelab_cloudflare_api_key: "{{ lookup('env', 'TRAEFIK_CF_API_KEY') }}"
    homelab_docker_traefik_services:
      - name: "whoami"
        host: whoami.docker.allanshomelab.com
        url: "http://{{hostvars['mizar'].ansible_host}}:8180"
      - name: "traefik-dashboard"
        host: traefik.docker.allanshomelab.com
        url: "http://{{ hostvars['mizar'].ansible_host}}:8088"
      - name: pihole
        host: dns.docker.allanshomelab.com
        url: "http://{{ hostvars['mizar'].ansible_host }}:30080"
      - name: gatus
        host: gatus.docker.allanshomelab.com
        url: "http://{{ hostvars['mizar'].ansible_host }}:8080"
      - name: plex
        host: plex.docker.allanshomelab.com
        url: "http://hostvars['regulus']:32400"
      - name: procyon
        host: procyon.hosts.allanshomelab.com
        url: "http://{{ hostvars['procyon'].ansible_host }}"
