kubeScheduler:
  enabled: false

kubeControllerManager:
  enabled: false

defaultRules:
  create: true
  rules:
    alertmanager: true
    etcd: true
    configReloaders: true
    general: true
    k8s: true
    kubeApiserverAvailability: true
    kubeApiserverBurnrate: true
    kubeApiserverHistogram: true
    kubeApiserverSlos: true
    kubeControllerManager: false
    kubelet: true
    kubeProxy: true
    kubePrometheusGeneral: true
    kubePrometheusNodeRecording: true
    kubernetesApps: true
    kubernetesResources: true
    kubernetesStorage: true
    kubernetesSystem: true
    kubeSchedulerAlerting: false
    kubeSchedulerRecording: false
    kubeStateMetrics: true
    network: true
    node: true
    nodeExporterAlerting: true
    nodeExporterRecording: true
    prometheus: true
    prometheusOperator: true

crds:
  enabled: false
  upgradeJob:
    enabled: false

prometheus:    
    prometheusSpec:
      storageSpec:
        volumeClaimTemplate:
          spec:
            storageClassName: longhorn
            resources:
              requests:
                storage: 16Gi

#       additionalScrapeConfigs:
# ## {{ homelab_k8s_monitoring_prometheus_scrape_configs }}
# {% for config in homelab_k8s_monitoring_prometheus_scrape_configs | default([]) %}
# ## {{ config.name }}
#         - job_name: '{{ config.name }}'
#           scheme: {{ config.scheme | default ('http') }}
# {% if config.basic_auth is defined %}
#           basic_auth:
#             username: {{ config.basic_auth.username }}
#             password: {{ config.basic_auth.password }}
# {% endif %}
#           static_configs:
#             - targets:
# {% for host in config.hosts %}
#               - {{  hostvars[host].ansible_host }}:{{ config.port }}
# {% endfor %}
# {% endfor %}

grafana:
  persistence:
    enabled: true
    type: pvc
    existingClaim: grafana

alertmanager:
  alertmanagerSpec:
    storage: 
      volumeClaimTemplate:
        spec:
          storageClassName: longhorn
          accessModes: ["ReadWriteOnce"]
          resources:
            requests:
              storage: 4Gi
